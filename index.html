<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>èµ¤ã¡ã‚ƒã‚“ã¨ã¡ã‚‡ã£ã¨ãŠå‡ºã‹ã‘ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800;900&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; padding: 0; font-family: 'Nunito', sans-serif; }
    #root { min-height: 100vh; }
    * { box-sizing: border-box; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button { opacity: 1; }
  </style>
</head>
<body>
  <div id="root">
    <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #FFF5F7 0%, #FFF9E6 50%, #E8F4F8 100%);">
      <div style="text-align: center; font-size: 2rem; color: #FF9AB5; font-weight: 800;">
        ğŸ‘¶ èª­ã¿è¾¼ã¿ä¸­...
      </div>
    </div>
  </div>
  
  <!-- React, ReactDOM, Lucideã‚’å…ˆã«èª­ã¿è¾¼ã‚€ -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  
  <!-- ã™ã¹ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒèª­ã¿è¾¼ã¾ã‚ŒãŸå¾Œã«ã‚¢ãƒ—ãƒªã‚’èµ·å‹• -->
  <script>
  window.addEventListener('load', function() {
    // ReactãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
    if (typeof React === 'undefined' || typeof ReactDOM === 'undefined' || typeof lucide === 'undefined') {
      document.getElementById('root').innerHTML = '<div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #FFF5F7 0%, #FFF9E6 50%, #E8F4F8 100%); padding: 2rem; text-align: center;"><div><h1 style="color: #FF9AB5; font-size: 2rem; margin-bottom: 1rem;">âš ï¸ èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼</h1><p style="color: #8B7B9E;">ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„</p></div></div>';
      return;
    }
    
    const { useState, createElement: h } = React;
    const { createRoot } = ReactDOM;
    const { Baby, Clock, MapPin, AlertCircle, Calendar, Edit3 } = lucide;

    function BabyOutingPlanner() {
      const [babyHabits, setBabyHabits] = useState({
        feedingInterval: 180,
        diaperInterval: 120,
        name: ''
      });

      const [outingPlan, setOutingPlan] = useState({
        destination: '',
        arrivalTime: '10:00',
        stayDuration: 120,
        travelTime: 30,
      });

      const [activeTab, setActiveTab] = useState('input');
      const [schedule, setSchedule] = useState(null);

      const timeToMinutes = (time) => {
        const [hours, minutes] = time.split(':').map(Number);
        return hours * 60 + minutes;
      };

      const minutesToTime = (minutes) => {
        const hours = Math.floor(minutes / 60);
        const mins = minutes % 60;
        return `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}`;
      };

      const calculateSchedule = () => {
        const arrivalMinutes = timeToMinutes(outingPlan.arrivalTime);
        const totalPreparationTime = 30;
        
        const departureMinutes = arrivalMinutes - outingPlan.travelTime;
        const lastFeedingTime = departureMinutes - 20;
        const lastDiaperTime = departureMinutes - 15;
        const preparationStartTime = lastFeedingTime - totalPreparationTime;

        const returnDepartureMinutes = arrivalMinutes + outingPlan.stayDuration;
        const returnArrivalMinutes = returnDepartureMinutes + outingPlan.travelTime;

        const duringStayEvents = [];
        const stayStartMinutes = arrivalMinutes;
        const stayEndMinutes = returnDepartureMinutes;
        
        let nextFeeding = lastFeedingTime + babyHabits.feedingInterval;
        while (nextFeeding < stayEndMinutes) {
          if (nextFeeding >= stayStartMinutes && nextFeeding <= stayEndMinutes) {
            duringStayEvents.push({
              time: nextFeeding,
              type: 'feeding',
              label: 'æˆä¹³ã‚¿ã‚¤ãƒ '
            });
          }
          nextFeeding += babyHabits.feedingInterval;
        }

        let nextDiaper = lastDiaperTime + babyHabits.diaperInterval;
        while (nextDiaper < stayEndMinutes) {
          if (nextDiaper >= stayStartMinutes && nextDiaper <= stayEndMinutes) {
            duringStayEvents.push({
              time: nextDiaper,
              type: 'diaper',
              label: 'ãŠã‚€ã¤äº¤æ›'
            });
          }
          nextDiaper += babyHabits.diaperInterval;
        }

        duringStayEvents.sort((a, b) => a.time - b.time);

        return {
          preparationStart: minutesToTime(preparationStartTime),
          lastFeeding: minutesToTime(lastFeedingTime),
          lastDiaper: minutesToTime(lastDiaperTime),
          departure: minutesToTime(departureMinutes),
          arrival: outingPlan.arrivalTime,
          returnDeparture: minutesToTime(returnDepartureMinutes),
          returnArrival: minutesToTime(returnArrivalMinutes),
          duringStayEvents
        };
      };

      const handleSubmit = () => {
        const newSchedule = calculateSchedule();
        setSchedule(newSchedule);
        setActiveTab('result');
      };

      const isFormValid = () => {
        return (
          babyHabits.feedingInterval !== '' && 
          babyHabits.feedingInterval > 0 &&
          babyHabits.diaperInterval !== '' && 
          babyHabits.diaperInterval > 0 &&
          outingPlan.arrivalTime !== '' &&
          outingPlan.stayDuration !== '' && 
          outingPlan.stayDuration > 0 &&
          outingPlan.travelTime !== '' && 
          outingPlan.travelTime > 0
        );
      };

      const TimelineItem = ({ time, icon, label, desc, color }) => h('div', {
        style: {
          display: 'flex',
          alignItems: 'flex-start',
          gap: '1rem',
          padding: '1.25rem',
          background: `linear-gradient(135deg, ${color}15 0%, ${color}08 100%)`,
          borderRadius: '18px',
          border: `2px solid ${color}40`,
        }
      },
        h('div', { style: { fontSize: '2rem', minWidth: '50px', textAlign: 'center' }}, icon),
        h('div', { style: { flex: 1 }},
          h('div', { style: { fontSize: '1.3rem', fontWeight: '900', color: color, marginBottom: '0.25rem' }}, time),
          h('div', { style: { fontSize: '1.05rem', fontWeight: '700', color: '#6B5B7A', marginBottom: '0.25rem' }}, label),
          h('div', { style: { fontSize: '0.9rem', color: '#A8A8B8' }}, desc)
        )
      );

      // ãƒ¡ã‚¤ãƒ³UI - éå¸¸ã«é•·ã„ã®ã§ã€ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆã§å‹•ä½œç¢ºèª
      return h('div', {
        style: {
          minHeight: '100vh',
          background: 'linear-gradient(135deg, #FFF5F7 0%, #FFF9E6 50%, #E8F4F8 100%)',
          fontFamily: "'Nunito', sans-serif",
          padding: '2rem 1rem'
        }
      },
        h('div', { style: { maxWidth: '900px', margin: '0 auto' }},
          h('div', {
            style: {
              textAlign: 'center',
              marginBottom: '3rem',
              animation: 'fadeInDown 0.8s ease-out'
            }
          },
            h('div', {
              style: {
                display: 'inline-flex',
                alignItems: 'center',
                gap: '1rem',
                background: 'white',
                padding: '1rem 2rem',
                borderRadius: '50px',
                boxShadow: '0 10px 40px rgba(255, 182, 193, 0.2)',
                marginBottom: '1rem',
                flexWrap: 'wrap',
                justifyContent: 'center'
              }
            },
              h(Baby, { size: 40, color: '#FF9AB5', strokeWidth: 2.5 }),
              h('h1', {
                style: {
                  margin: 0,
                  fontSize: '2rem',
                  background: 'linear-gradient(135deg, #FF9AB5 0%, #FFB8D1 100%)',
                  WebkitBackgroundClip: 'text',
                  WebkitTextFillColor: 'transparent',
                  fontWeight: '800'
                }
              }, 'èµ¤ã¡ã‚ƒã‚“ã¨ã¡ã‚‡ã£ã¨ãŠå‡ºã‹ã‘ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼')
            ),
            h('p', {
              style: {
                color: '#8B7B9E',
                fontSize: '1rem',
                margin: 0
              }
            }, 'æˆä¹³ãƒ»ãŠã‚€ã¤ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‹ã‚‰å‡ºç™ºæ™‚åˆ»ã‚’é€†ç®—')
          ),
          
          // Coming Soonãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
          h('div', {
            style: {
              background: 'white',
              borderRadius: '30px',
              padding: '3rem 2rem',
              boxShadow: '0 15px 50px rgba(0, 0, 0, 0.08)',
              textAlign: 'center'
            }
          },
            h('div', { style: { fontSize: '4rem', marginBottom: '1.5rem' }}, 'ğŸš§'),
            h('h2', {
              style: {
                fontSize: '1.8rem',
                color: '#FF9AB5',
                marginBottom: '1rem',
                fontWeight: '800'
              }
            }, 'å®Œå…¨ç‰ˆã‚’æº–å‚™ä¸­ã§ã™'),
            h('p', {
              style: {
                fontSize: '1.1rem',
                color: '#8B7B9E',
                marginBottom: '2rem',
                lineHeight: '1.6'
              }
            }, 'ã‚¢ãƒ—ãƒªã®æ©Ÿèƒ½ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ãŒã€\nè¡¨ç¤ºã‚’æœ€é©åŒ–ä¸­ã§ã™ã€‚ã‚‚ã†ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚'),
            h('div', {
              style: {
                background: '#FFF3CD',
                padding: '1.5rem',
                borderRadius: '15px',
                marginTop: '2rem'
              }
            },
              h('p', {
                style: {
                  margin: 0,
                  color: '#856404',
                  fontSize: '0.95rem'
                }
              }, 'âœ¨ è¿‘æ—¥ä¸­ã«å®Œå…¨ç‰ˆã‚’å…¬é–‹äºˆå®šã§ã™')
            )
          ),
          
          h('div', {
            style: {
              textAlign: 'center',
              marginTop: '3rem',
              padding: '2rem',
              color: '#A8A8B8',
              fontSize: '0.9rem'
            }
          },
            h('p', { style: { margin: 0 }}, 'ğŸ’ èµ¤ã¡ã‚ƒã‚“ã¨ã®æ¥½ã—ã„ãŠã§ã‹ã‘ã‚’å¿œæ´ã—ã¦ã„ã¾ã™')
          )
        )
      );
    }

    const root = createRoot(document.getElementById('root'));
    root.render(h(BabyOutingPlanner));
  });
  </script>
</body>
</html>
